<header class="topbar">
  <div class="topbar__left">Administrador</div>
  <div class="topbar__right">Hola, {{ usuario }}</div>
</header>
<hr class="topbar__divider" />

<section class="page">
  <h1 class="page__title">Calendario</h1>

  <!-- Botonera -->
  <div class="actions">
    <button
      *ngFor="let a of acciones"
      class="tp-btn tp-btn--green"
      type="button"
      (click)="onAccion(a.action)"
    >
      {{ a.label }}
    </button>
  </div>

  <!-- Contenedor calendario -->
  <div class="calendar-card">
    <div class="calendar-head">
      <button class="cal-btn" (click)="nav(-1)">&larr;</button>
      <div class="cal-month">{{ monthLabel() | titlecase }}</div>
      <button class="cal-btn" (click)="nav(1)">&rarr;</button>
    </div>

    <div class="calendar-grid">
      <div class="dow">L</div><div class="dow">M</div><div class="dow">M</div>
      <div class="dow">J</div><div class="dow">V</div><div class="dow">S</div><div class="dow">D</div>

      <ng-container *ngFor="let week of weeks">
        <ng-container *ngFor="let day of week">
          <div class="cell" [class.cell--muted]="!day.inMonth">
            <div class="cell__num" *ngIf="day.date as d">{{ d.getDate() }}</div>

            <div class="chip"
                 *ngFor="let e of day.events"
                 [class.chip--green]="e.color==='green'"
                 [class.chip--yellow]="e.color==='yellow'"
                 [class.chip--red]="e.color==='red'">
              {{ e.time }} Â· {{ e.title }}
            </div>
          </div>
        </ng-container>
      </ng-container>
    </div>
  </div>
</section>
